<div class="home-container">
  <!-- Left column: Todo + Email Summary -->
  <div class="summary-container">
    <app-todo></app-todo>
    <app-email-summary></app-email-summary>
  </div>

  <!-- Right column: Gmail Accounts + Emails -->
  <div class="emails-section">
    <h2>
      Latest Emails
      <button class="refresh-btn" (click)="refreshEmails()" title="Fetch latest emails">‚ü≥</button>
    </h2>

    <div *ngIf="emails?.length; else noEmails" class="emails-list">
      <div *ngFor="let email of emails" class="email-card">
        <h3>{{ email.subject }}</h3>
        <p><strong>From:</strong> {{ email.from }}</p>
        <p><strong>Date:</strong> {{ email.date | date:'short' }}</p>
        <markdown [data]="email.body"></markdown>
      </div>
    </div>

    <ng-template #noEmails>
      <p>No emails found.</p>
    </ng-template>

    <h2>Connected Gmail Accounts</h2>
    <div *ngIf="accounts?.length; else noAccounts">
      <ul>
        <li *ngFor="let acc of accounts">
          {{ acc.email }} (ID: {{ acc.googleId }})
        </li>
      </ul>
    </div>
    <ng-template #noAccounts>
      <p>No Gmail accounts connected yet. Connect one to get started.</p>
    </ng-template>
  </div>
</div>
